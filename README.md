# è±èƒ¸éš†ä¹³çŸ½è† ä¿å›ºæŸ¥è©¢ç³»çµ± - å‰ç«¯ (Svelte é‡æ§‹ç‰ˆ)

é€™æ˜¯ä¸€å€‹å°ˆç‚ºé†«ç™‚å™¨æä¿å›ºç®¡ç†è¨­è¨ˆçš„ç¾ä»£åŒ– Web æ‡‰ç”¨ç¨‹å¼ï¼Œä½¿ç”¨ Svelte æ¡†æ¶é‡æ§‹ï¼Œæä¾›å®Œæ•´çš„ä¿å›ºç™»è¨˜ã€æŸ¥è©¢å’Œç®¡ç†åŠŸèƒ½ã€‚

## ğŸš€ åŠŸèƒ½ç‰¹è‰²

### ğŸŒ å…¬é–‹åŠŸèƒ½

- **ä¿å›ºç™»è¨˜** - æ‚£è€…å¯ä»¥é€šé QR Code æˆ–åºè™Ÿé€²è¡Œä¿å›ºç™»è¨˜
- **ä¿å›ºæŸ¥è©¢** - æŸ¥è©¢ä¿å›ºç‹€æ…‹å’Œç›¸é—œè³‡è¨Š
- **éŸ¿æ‡‰å¼è¨­è¨ˆ** - æ”¯æ´æ¡Œé¢å’Œè¡Œå‹•è£ç½®

### ğŸ”’ ç®¡ç†åŠŸèƒ½

- **ç®¡ç†å“¡ç™»å…¥** - å®‰å…¨çš„èªè­‰ç³»çµ±
- **ä¿å›ºç®¡ç†** - æŸ¥çœ‹å’Œç®¡ç†æ‰€æœ‰ä¿å›ºè¨˜éŒ„
- **çµ±è¨ˆå ±è¡¨** - æŸ¥çœ‹ç³»çµ±çµ±è¨ˆè³‡è¨Š

## ğŸ“ é …ç›®çµæ§‹ (é‡æ§‹å¾Œ)

```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/         # Svelte çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ ui/            # åŸºç¤ UI çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ LoginForm.svelte
â”‚   â”‚   â”œâ”€â”€ WarrantyRegistrationForm.svelte
â”‚   â”‚   â”œâ”€â”€ WarrantySearch.svelte
â”‚   â”‚   â”œâ”€â”€ AdminDashboard.svelte
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ stores/            # ç‹€æ…‹ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ auth.ts        # èªè­‰ç‹€æ…‹
â”‚   â”‚   â”œâ”€â”€ warranty.ts    # ä¿å›ºç‹€æ…‹
â”‚   â”‚   â”œâ”€â”€ app.ts         # æ‡‰ç”¨ç‹€æ…‹
â”‚   â”‚   â””â”€â”€ notifications.ts
â”‚   â”œâ”€â”€ lib/               # æ ¸å¿ƒæœå‹™
â”‚   â”‚   â”œâ”€â”€ api.ts         # API æœå‹™
â”‚   â”‚   â”œâ”€â”€ auth.ts        # èªè­‰æœå‹™
â”‚   â”‚   â””â”€â”€ env.ts         # ç’°å¢ƒé…ç½®
â”‚   â”œâ”€â”€ utils/             # å·¥å…·å‡½æ•¸
â”‚   â”‚   â”œâ”€â”€ validation.ts  # è¡¨å–®é©—è­‰
â”‚   â”‚   â”œâ”€â”€ format.ts      # æ ¼å¼åŒ–å·¥å…·
â”‚   â”‚   â””â”€â”€ router.ts      # è·¯ç”±ç®¡ç†
â”‚   â”œâ”€â”€ App.svelte         # ä¸»æ‡‰ç”¨çµ„ä»¶
â”‚   â”œâ”€â”€ main.ts            # æ‡‰ç”¨å…¥å£
â”‚   â””â”€â”€ app.css            # å…¨å±€æ¨£å¼
â”œâ”€â”€ index-svelte.html       # Svelte ç‰ˆæœ¬å…¥å£
â”œâ”€â”€ test-svelte.html        # æ¸¬è©¦é é¢
â”œâ”€â”€ vite.config.js          # Vite é…ç½®
â”œâ”€â”€ svelte.config.js        # Svelte é…ç½®
â”œâ”€â”€ tailwind.config.js      # Tailwind é…ç½®
â”œâ”€â”€ tsconfig.json           # TypeScript é…ç½®
â””â”€â”€ package.json            # ä¾è³´ç®¡ç†
```

## ğŸ› ï¸ æŠ€è¡“æ£§ (é‡æ§‹å¾Œ)

### å‰ç«¯æŠ€è¡“

- **æ¡†æ¶**: Svelte + TypeScript
- **æ§‹å»ºå·¥å…·**: Vite
- **æ¨£å¼**: Tailwind CSS
- **ç‹€æ…‹ç®¡ç†**: Svelte Stores
- **åœ–æ¨™**: Lucide Icons
- **é¡å‹æª¢æŸ¥**: TypeScript

### æ¶æ§‹å„ªåŒ–

- **æ¨¡çµ„åŒ–è¨­è¨ˆ**: çµ„ä»¶åŒ–æ¶æ§‹ï¼Œæé«˜ä»£ç¢¼é‡ç”¨æ€§
- **ç‹€æ…‹ç®¡ç†**: é›†ä¸­å¼ç‹€æ…‹ç®¡ç†ï¼Œé¿å…ç¨‹å¼ç¢¼åˆ†æ•£
- **é¡å‹å®‰å…¨**: TypeScript æ”¯æ´ï¼Œæ¸›å°‘é‹è¡Œæ™‚éŒ¯èª¤
- **éŸ¿æ‡‰å¼è¨­è¨ˆ**: æ”¯æ´æ¡Œé¢å’Œè¡Œå‹•è£ç½®
- **ç¾ä»£åŒ– UI**: åŸºæ–¼è¨­è¨ˆç³»çµ±çš„ä¸€è‡´æ€§ç•Œé¢

## ğŸ¨ è¨­è¨ˆç‰¹è‰²

### éŸ¿æ‡‰å¼è¨­è¨ˆ

- ä½¿ç”¨ Tailwind CSS çš„éŸ¿æ‡‰å¼å·¥å…·é¡
- æ”¯æ´æ¡Œé¢ã€å¹³æ¿å’Œæ‰‹æ©Ÿè£ç½®
- æµæš¢çš„ä½¿ç”¨è€…é«”é©—

### ä½¿ç”¨è€…ä»‹é¢

- ç¾ä»£åŒ–çš„å¡ç‰‡å¼è¨­è¨ˆ
- ç›´è§€çš„å°èˆªç³»çµ±
- æ¸…æ™°çš„è¡¨å–®é©—è­‰å›é¥‹
- å³æ™‚é€šçŸ¥ç³»çµ±

### ç„¡éšœç¤™è¨­è¨ˆ

- èªç¾©åŒ–çš„ HTML çµæ§‹
- é©ç•¶çš„é¡è‰²å°æ¯”
- éµç›¤å°èˆªæ”¯æ´

## ğŸš€ å¿«é€Ÿé–‹å§‹

### 1. å•Ÿå‹•å¾Œç«¯æœå‹™

ç¢ºä¿å¾Œç«¯æœå‹™æ­£åœ¨é‹è¡Œï¼š

```bash
cd ../backend
go run cmd/server/main.go
```

### 2. å®‰è£ä¾è³´

```bash
cd frontend
npm install
```

### 3. å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨

#### åŸç‰ˆ (Vanilla JS)

```bash
npm run dev
```

#### Svelte é‡æ§‹ç‰ˆ

```bash
npm run dev:svelte
```

é€™å°‡å•Ÿå‹• Vite é–‹ç™¼ä¼ºæœå™¨ï¼Œå…·æœ‰ä»¥ä¸‹åŠŸèƒ½ï¼š

- ğŸ”¥ ç†±é‡è¼‰ (Hot Reload)
- ğŸš€ å¿«é€Ÿå†·å•Ÿå‹•
- ğŸ”„ API ä»£ç†åˆ°å¾Œç«¯
- ğŸ› ï¸ é–‹ç™¼å·¥å…·æ•´åˆ
- ğŸ“¦ Svelte çµ„ä»¶ç†±æ›´æ–°

### 4. è¨ªå•æ‡‰ç”¨

- **åŸç‰ˆ**: `http://localhost:3000`
- **Svelte ç‰ˆ**: `http://localhost:5173`
- **æ¸¬è©¦é é¢**: ç›´æ¥æ‰“é–‹ `test-svelte.html`

### 5. å…¶ä»–å‘½ä»¤

```bash
# æ§‹å»ºç”Ÿç”¢ç‰ˆæœ¬ (åŸç‰ˆ)
npm run build

# æ§‹å»ºç”Ÿç”¢ç‰ˆæœ¬ (Svelte)
npm run build:svelte

# é è¦½ç”Ÿç”¢ç‰ˆæœ¬
npm run preview

# TypeScript é¡å‹æª¢æŸ¥ (Svelte)
npm run check

# ç›£æ§é¡å‹æª¢æŸ¥ (Svelte)
npm run check:watch
```

## ğŸ”„ Svelte é‡æ§‹èªªæ˜

### é‡æ§‹ç›®æ¨™

åŸå§‹ç¨‹å¼ç¢¼å­˜åœ¨ä»¥ä¸‹å•é¡Œï¼š

- ç¨‹å¼ç¢¼éåº¦é›†ä¸­åœ¨å–®ä¸€æ–‡ä»¶ä¸­
- ç¼ºä¹æ¨¡çµ„åŒ–è¨­è¨ˆ
- ç‹€æ…‹ç®¡ç†åˆ†æ•£
- ç¼ºä¹é¡å‹å®‰å…¨

### é‡æ§‹æˆæœ

âœ… **æ¨¡çµ„åŒ–æ¶æ§‹**: å°‡åŠŸèƒ½æ‹†åˆ†ç‚ºç¨ç«‹çš„ Svelte çµ„ä»¶
âœ… **ç‹€æ…‹ç®¡ç†**: ä½¿ç”¨ Svelte Stores é›†ä¸­ç®¡ç†æ‡‰ç”¨ç‹€æ…‹
âœ… **é¡å‹å®‰å…¨**: å®Œæ•´çš„ TypeScript æ”¯æ´
âœ… **çµ„ä»¶åŒ– UI**: å¯é‡ç”¨çš„ UI çµ„ä»¶åº«
âœ… **æ›´å¥½çš„é–‹ç™¼é«”é©—**: ç†±é‡è¼‰ã€é¡å‹æª¢æŸ¥ã€è‡ªå‹•å®Œæˆ

### ä¸»è¦æ”¹é€²

1. **èªè­‰ç³»çµ±**: é‡æ§‹ç‚º `authStore` + `AuthService`
2. **ä¿å›ºç®¡ç†**: é‡æ§‹ç‚º `warrantyStore` + ç›¸é—œçµ„ä»¶
3. **UI çµ„ä»¶**: å‰µå»ºå¯é‡ç”¨çš„åŸºç¤çµ„ä»¶
4. **è·¯ç”±ç®¡ç†**: ä½¿ç”¨ SvelteKit æª”æ¡ˆç³»çµ±è·¯ç”±
5. **éŒ¯èª¤è™•ç†**: çµ±ä¸€çš„éŒ¯èª¤è™•ç†å’Œé€šçŸ¥ç³»çµ±
6. **è·¯ç”±ä¿è­·**: ä½¿ç”¨ SvelteKit load å‡½æ•¸å¯¦ä½œèªè­‰ä¿è­·

### æª”æ¡ˆæ¸…ç†

âœ… **å·²æ¸…ç†çš„æª”æ¡ˆ**:

- `assets/js/app.js` - åŸç‰ˆä¸»æ‡‰ç”¨ç¨‹å¼ (å·²é‡æ§‹ç‚º Svelte çµ„ä»¶)
- `assets/js/auth.js` - åŸç‰ˆèªè­‰åŠŸèƒ½ (å·²é‡æ§‹ç‚º authStore + AuthService)
- `assets/js/warranty.js` - åŸç‰ˆä¿å›ºåŠŸèƒ½ (å·²é‡æ§‹ç‚º warrantyStore + çµ„ä»¶)
- `assets/js/admin.js` - åŸç‰ˆç®¡ç†åŠŸèƒ½ (å·²é‡æ§‹ç‚º AdminDashboard çµ„ä»¶)
- `assets/js/` ç›®éŒ„ - å·²åˆªé™¤ç©ºç›®éŒ„
- æ¸¬è©¦æª”æ¡ˆ - æ¸…ç†äº†èˆŠçš„æ¸¬è©¦å’Œèª¿è©¦æª”æ¡ˆ

âœ… **ä¿ç•™çš„æª”æ¡ˆ**:

- `assets/css/style.css` - ç°¡åŒ–å¾Œä¿ç•™åŸºæœ¬æ¨£å¼ä¾›åŸç‰ˆåƒè€ƒ
- `index.html` - åŸç‰ˆå…¥å£æª”æ¡ˆ
- `index-svelte.html` - Svelte SPA ç‰ˆæœ¬å…¥å£æª”æ¡ˆ
- `index-sveltekit.html` - SvelteKit è·¯ç”±ç‰ˆæœ¬å…¥å£æª”æ¡ˆ
- `test-svelte.html` - Svelte ç‰ˆæœ¬å±•ç¤ºé é¢

## ğŸ›£ï¸ SvelteKit è·¯ç”±æ¶æ§‹

### è·¯ç”±çµæ§‹

```
src/routes/
â”œâ”€â”€ +layout.svelte          # ä¸»ä½ˆå±€ï¼ˆå°èˆªæ¬„ã€å…¨å±€çµ„ä»¶ï¼‰
â”œâ”€â”€ +page.svelte            # é¦–é  (/)
â”œâ”€â”€ login/
â”‚   â””â”€â”€ +page.svelte        # ç™»å…¥é é¢ (/login)
â”œâ”€â”€ warranty/
â”‚   â”œâ”€â”€ register/
â”‚   â”‚   â””â”€â”€ +page.svelte    # ä¿å›ºç™»è¨˜ (/warranty/register)
â”‚   â”œâ”€â”€ search/
â”‚   â”‚   â””â”€â”€ +page.svelte    # ä¿å›ºæŸ¥è©¢ (/warranty/search)
â”‚   â””â”€â”€ [id]/
â”‚       â””â”€â”€ +page.svelte    # ä¿å›ºè©³æƒ… (/warranty/[id])
â””â”€â”€ admin/
    â”œâ”€â”€ +page.ts            # è·¯ç”±ä¿è­· (èªè­‰æª¢æŸ¥)
    â””â”€â”€ +page.svelte        # ç®¡ç†å¾Œå° (/admin)
```

### è·¯ç”±åŠŸèƒ½

- **æª”æ¡ˆç³»çµ±è·¯ç”±**: åŸºæ–¼æª”æ¡ˆçµæ§‹è‡ªå‹•ç”Ÿæˆè·¯ç”±
- **å‹•æ…‹è·¯ç”±**: `[id]` æ”¯æ´å‹•æ…‹åƒæ•¸
- **è·¯ç”±ä¿è­·**: ä½¿ç”¨ `+page.ts` å¯¦ä½œèªè­‰æª¢æŸ¥
- **ä½ˆå±€ç³»çµ±**: `+layout.svelte` æä¾›å…±ç”¨ä½ˆå±€
- **SEO å‹å¥½**: æ¯å€‹é é¢ç¨ç«‹çš„ `<title>` å’Œ meta æ¨™ç±¤

## ğŸ“‹ API æ•´åˆ

å‰ç«¯èˆ‡å¾Œç«¯ API çš„æ•´åˆé…ç½®ï¼š

### API åŸºç¤ URL

```javascript
// åœ¨ app.js ä¸­é…ç½®
this.apiBaseUrl = "http://localhost:8080/api/v1";
```

### ä¸»è¦ API ç«¯é»

- `POST /auth/login` - ç®¡ç†å“¡ç™»å…¥
- `POST /warranty/register` - ä¿å›ºç™»è¨˜
- `GET /warranty/search` - ä¿å›ºæŸ¥è©¢

## ğŸ”§ é…ç½®é¸é …

### ä¿®æ”¹ API åœ°å€

å¦‚æœå¾Œç«¯é‹è¡Œåœ¨ä¸åŒçš„åœ°å€ï¼Œè«‹ä¿®æ”¹ `assets/js/app.js` ä¸­çš„ `apiBaseUrl`ï¼š

```javascript
constructor() {
    this.apiBaseUrl = 'https://your-api-domain.com/api/v1';
    // ...
}
```

### è‡ªå®šç¾©æ¨£å¼

åœ¨ `assets/css/style.css` ä¸­æ·»åŠ è‡ªå®šç¾©æ¨£å¼ï¼š

```css
/* è‡ªå®šç¾©ä¸»é¡Œè‰²å½© */
:root {
  --primary-color: #3b82f6;
  --success-color: #10b981;
  --error-color: #ef4444;
}
```

## ğŸ¯ ä¸»è¦åŠŸèƒ½èªªæ˜

### ä¿å›ºç™»è¨˜æµç¨‹

1. ç”¨æˆ¶é»æ“Šã€Œé–‹å§‹ç™»è¨˜ã€
2. å¡«å¯«æ‚£è€…è³‡è¨Šå’Œé†«é™¢è³‡è¨Š
3. ç³»çµ±é©—è­‰è¡¨å–®è³‡æ–™
4. æäº¤åˆ°å¾Œç«¯ API
5. é¡¯ç¤ºç™»è¨˜çµæœ

### ä¿å›ºæŸ¥è©¢æµç¨‹

1. ç”¨æˆ¶é»æ“Šã€Œé–‹å§‹æŸ¥è©¢ã€
2. è¼¸å…¥æŸ¥è©¢é—œéµå­—ï¼ˆå§“åã€åºè™Ÿç­‰ï¼‰
3. ç³»çµ±æœå°‹åŒ¹é…çš„è¨˜éŒ„
4. é¡¯ç¤ºæŸ¥è©¢çµæœ

### ç®¡ç†å“¡åŠŸèƒ½

1. ç®¡ç†å“¡ç™»å…¥
2. æŸ¥çœ‹ä¿å›ºç®¡ç†å¾Œå°
3. åŸ·è¡Œç®¡ç†æ“ä½œ

## ğŸ”’ å®‰å…¨ç‰¹æ€§

- **JWT Token èªè­‰** - å®‰å…¨çš„èº«ä»½é©—è­‰
- **è‡ªå‹• Token åˆ·æ–°** - é˜²æ­¢æœƒè©±éæœŸ
- **è¼¸å…¥é©—è­‰** - å‰ç«¯è¡¨å–®é©—è­‰
- **XSS é˜²è­·** - å®‰å…¨çš„è³‡æ–™è™•ç†

## ğŸ“± ç€è¦½å™¨æ”¯æ´

- Chrome 60+
- Firefox 55+
- Safari 12+
- Edge 79+

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è¦‹å•é¡Œ

1. **CORS éŒ¯èª¤**

   - ç¢ºä¿å¾Œç«¯å·²æ­£ç¢ºé…ç½® CORS
   - æª¢æŸ¥ API åœ°å€æ˜¯å¦æ­£ç¢º

2. **API é€£æ¥å¤±æ•—**

   - ç¢ºèªå¾Œç«¯æœå‹™æ­£åœ¨é‹è¡Œ
   - æª¢æŸ¥ç¶²è·¯é€£æ¥

3. **æ¨£å¼é¡¯ç¤ºç•°å¸¸**
   - ç¢ºèª Tailwind CSS CDN è¼‰å…¥æ­£å¸¸
   - æª¢æŸ¥è‡ªå®šç¾© CSS æ–‡ä»¶è·¯å¾‘

## ğŸš€ éƒ¨ç½²å»ºè­°

### ç”Ÿç”¢ç’°å¢ƒéƒ¨ç½²

1. ä½¿ç”¨ Nginx æˆ– Apache æä¾›éœæ…‹æ–‡ä»¶æœå‹™
2. å•Ÿç”¨ GZIP å£“ç¸®
3. é…ç½®é©ç•¶çš„å¿«å–æ¨™é ­
4. ä½¿ç”¨ HTTPS

### ç¯„ä¾‹ Nginx é…ç½®

```nginx
server {
    listen 80;
    server_name your-domain.com;
    root /path/to/frontend;
    index index.html;

    location / {
        try_files $uri $uri/ /index.html;
    }

    location /assets/ {
        expires 1y;
        add_header Cache-Control "public, immutable";
    }
}
```

## ğŸ“ æ”¯æ´

å¦‚æœ‰å•é¡Œæˆ–å»ºè­°ï¼Œè«‹è¯ç¹«é–‹ç™¼åœ˜éšŠã€‚
